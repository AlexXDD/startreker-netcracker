<div class="list-group">
  <ul>
    <li class="list-group-item"
        *ngFor="let approver of approvers | filter: filterCriteria: filterContent
        | paginate: {id: 'listing_pagination', itemsPerPage: entriesAmountOnPage, currentPage: page ,totalItems: totalRec}">
      <div class="row">
        <div class="col-1"
             title="id"
        >
          <span class="badge badge-primary badge-pill idBadge">{{approver.id}}</span>
        </div>

        <div class="row col-5 offset-6"
             *ngIf="!isForUpdateMessage"
        >
          <div class="col-1 offset-4 offset-lg-8">
            <p data-placement="top" data-toggle="tooltip" title="Edit" (click)="onUpdate(approver)"
               class="updatePrgph"
            >
              <button class="btn btn-primary btn-md"><i class="fa fa-edit"></i></button>
            </p>
          </div>

          <div class="col-1 offset-1">
            <p data-placement="top" data-toggle="tooltip" title="Delete" (click)="onDelete(approver)" class="deletePrgph">
              <button class="btn btn-danger btn-md" data-title="Delete" data-toggle="modal" data-target="#delete"><i
                class="fa fa-trash"></i></button>
            </p>
          </div>
        </div>
      </div>

      <form [formGroup]="form" (ngSubmit)="onSubmit()"

      >
        <div class="row">
          <div class="col-md-8">
            <div class="row">
              <h3 class="col-2">Name</h3>
              <h3 class="col-2 offset-3" *ngIf="currentApproverForUpdate !== approver">
                {{approver.username}}</h3>
              <input type="text" class="form-control"
                     [value]="currentApproverForUpdate.username"
                     formControlName="username" *ngIf="currentApproverForUpdate === approver && !isForUpdateMessage"
                     [ngClass]="{
                   'is-invalid':form.get('username').invalid,
                   'is-valid': form.get('username').valid
                   }"
              >
            </div>

            <hr>

            <div class="row">
              <h5 class="col-2">Email</h5>
              <p class="col-2 offset-3" *ngIf="currentApproverForUpdate !== approver">
                {{approver.user_email}}</p>
              <input type="text" class="form-control"
                     [value]="currentApproverForUpdate.user_email"
                     formControlName="user_email" *ngIf="currentApproverForUpdate === approver && !isForUpdateMessage"
                     [ngClass]="{
                   'is-invalid':form.get('user_email').invalid,
                   'is-valid': form.get('user_email').valid
                   }"
              >
            </div>

            <hr>

            <div class="row">
              <h5 class="col-2">Telephone</h5>
              <p class="col-2 offset-3" *ngIf="currentApproverForUpdate !== approver">
                {{approver.user_telephone}}</p>
              <input type="tel" class="form-control" formControlName="user_telephone"
                     *ngIf="currentApproverForUpdate === approver && !isForUpdateMessage"
                     [value]="currentApproverForUpdate.user_telephone"
                     [ngClass]="{
                   'is-invalid':form.get('user_telephone').invalid,
                   'is-valid': form.get('user_telephone').valid
                   }"
              >
            </div>

            <hr>

            <div class="row">
              <h5 class="col-2">Status</h5>
              <div class="col-4 offset-3 alert text-center" *ngIf="currentApproverForUpdate !== approver"
                   [ngClass]="{
               'alert-success': (approver.user_is_activated === true),
               'alert-danger': (approver.user_is_activated === false)
               }"
              >
                {{approver.user_is_activated | aprroverShowStatus}}
              </div>
            </div>

            <div class="custom-control custom-radio custom-control-inline"
                 *ngIf="currentApproverForUpdate === approver && !isForUpdateMessage"
            >
              <input type="radio"
                     class="custom-control-input"
                     [value]="true"
                     formControlName="user_is_activated"
                     id="update_actived"
              >
              <label class="custom-control-label" for="update_actived">Activated</label>
            </div>

            <div class="custom-control custom-radio custom-control-inline"
                 *ngIf="currentApproverForUpdate === approver && !isForUpdateMessage"
            >
              <input type="radio"
                     class="custom-control-input"
                     [value]="false"
                     formControlName="user_is_activated"
                     id="update_inactived"
              >
              <label class="custom-control-label" for="update_inactived">Deactivated</label>
            </div>

            <hr>

            <div class="row">
              <h5 class="col-2">Date of creation</h5>
              <p class="col-2 offset-3">{{approver.user_created_cate | date}}</p>
            </div>

            <hr>

            <div class="row"
                 *ngIf="currentApproverForUpdate === approver && isEditButtonBlockedAfterSubmit && !isForUpdateMessage"
            >
              <button class="btn btn-success col-4"
                      type="submit"
                      [disabled]="form.invalid"
              >Edit
              </button>
            </div>

            <div class="alert alert-success text-center"
                 *ngIf="isForUpdateMessage && currentApproverForUpdate === approver"
            >
              <h4>
                Updated
              </h4>
            </div>
          </div>
        </div>
      </form>
    </li>
  </ul>
  <pagination-controls id="listing_pagination" maxSize=5 (pageChange)="onChangePage($event)"
                       class="text-center"></pagination-controls>
</div>

<hr>
