<hr>
<div class="container-fluid"
     *ngFor="let suggestion of trip.suggestion"
>
  <div class="row justify-content-center">
    <div class="row col-md-5 text-center">
      <div class="col-5">
        <h4>{{trip.departure_planet_name}} (spaceport {{trip.departure_spaceport_name}})</h4>
        <br>
        <h6>at {{trip.departure_date}}</h6>
      </div>
      <div class="col-2">
        <h4>-></h4>
      </div>
      <div class="col-5">
        <h4>{{trip.arrival_planet_name}} (spaceport {{trip.arrival_spaceport_name}})</h4>
        <br>
        <h6>at {{trip.arrival_date}}</h6>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
      <h5>Price</h5>
    </div>
    <div class="col-md-6">
      <h6>{{suggestion.ticket_price}}</h6>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
      <h5>Class name</h5>
    </div>
    <div class="col-md-6">
      <h6>{{suggestion.class_name}}</h6>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
      <h5>Class seats</h5>
    </div>
    <div class="col-md-6">
      <h6>{{suggestion.class_seats}}</h6>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
      <h5>Services</h5>
    </div>
    <ul class="list-group col-md-6">
      <li class="list-group-item"
          *ngFor="let serviceName of suggestion.service_names"
      >
        {{serviceName}}
      </li>
    </ul>
  </div>

  <hr>

  <h6 class="text-center">Discount</h6>

  <div class="container"
       *ngIf="suggestion.discount !== null"
  >
    <hr>

    <div class="row justify-content-center">
      <div class="col-md-6 text-center">
        <h5>Type</h5>
      </div>
      <div class="col-md-6 text-center">
        <h6 *ngIf="suggestion.discount.is_percent">
          By percent
        </h6>

        <h6 *ngIf="!suggestion.discount.is_percent">
          By value
        </h6>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-md-6 text-center">
        <h5>Value</h5>
      </div>
      <div class="col-md-6 text-center">
        <h6>
          {{suggestion.discount.discount_rate}}
        </h6>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-md-6 text-center">
        <h5>Start date</h5>
      </div>
      <div class="col-md-6 text-center">
        <h6>
          {{suggestion.discount.start_date}}
        </h6>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-md-6 text-center">
        <h5>Finish date</h5>
      </div>
      <div class="col-md-6 text-center">
        <h6>
          {{suggestion.discount.finish_date}}
        </h6>
      </div>
    </div>

    <div class="row justify-content-center"
         *ngIf="suggestion.discount !== null"
    >
      <div class="col-md-6 text-center">
        <h5>Price with discount</h5>
      </div>
      <div class="col-md-6 text-center">
        <h6 *ngIf="suggestion.discount.is_percent">
          {{suggestion.ticket_price * (1 - suggestion.discount.discount_rate / 100)}}
        </h6>

        <h6 *ngIf="!suggestion.discount.is_percent">
          {{(suggestion.ticket_price - suggestion.discount.discount_rate)}}
        </h6>
      </div>
    </div>

    <div class="row justify-content-center">
        <h4 *ngIf="suggestion.discount.is_expired === true"
            [ngClass]="{color: red === suggestion.discount.is_expired}"
            class="text-center"
        >
          Expired
        </h4>
    </div>

    <div class="row justify-content-center">
      <button type="button"
              class="btn btn-danger"
              (click)="emitToMainComponentSuggestionOnDeleteEvent(suggestion)"
      >
        Delete
      </button>
    </div>

  </div>

  <div class="container"
       *ngIf="suggestion.discount === null"
  >
    <div class="row justify-content-center">
      <h4>None</h4>
    </div>
    <div class="row justify-content-center">
      <button type="button"
              class="btn btn-success"
              (click)="openSuggestionDiscountForm(suggestion)"
      >
        Add
      </button>
    </div>
  </div>

  <hr>

  <discount-form
    [obj]="suggestion"
    [isDiscountFormActivated]="isDiscountFormActivated"
    (closeDiscountFormNotifier)="closeDiscountForm()"
    (submitFormEmitter)="emitToMainComponentSuggestionOnAddEvent($event)"
    *ngIf="currentSuggestion === suggestion"
  ></discount-form>
</div>
